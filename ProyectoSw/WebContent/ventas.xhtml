<?xml version="1.0"?>

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:ace="http://www.icefaces.org/icefaces/components"
    xmlns:icecore="http://www.icefaces.org/icefaces/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    template="/resources/templates/content-template.xhtml">

    <ui:define name="example1">
        <h:form id="form">
            <h:panelGrid columns="2" columnClasses="menuStyle, menuLogStyle">
                <ace:menu type="plain" id="exampleMenu" >
                    <ace:submenu label="File" id="file">
                        <ace:menuItem id="Inicio"
                                      value="Inicio" 
                                      actionListener="#{menuBean.fireAction}">
                            <ace:ajax event="activate" execute="@this" render="message" />
                        </ace:menuItem>
                        <ace:menuItem   id="Ventas"
                                        value="Ventas"
                                        actionListener="#{menuBean.fireAction}">
                            <ace:ajax event="activate" execute="@this" render="message" />
                        </ace:menuItem>
                        <ace:menuItem id="Insumos"
                                      value="Insumos"
                                      actionListener="#{menuBean.fireAction}">
                            <ace:ajax event="activate" execute="@this" render="message" />
                        </ace:menuItem>
                        <ace:menuItem id="Cultivo"
                                      value="Mi Cultivo"
                                      actionListener="#{menuBean.fireAction}">
                            <ace:ajax event="activate" execute="@this" render="message" />
                        </ace:menuItem>
                        <ace:menuItem id="Transporte"
                                      value="Transporte"
                                      actionListener="#{menuBean.fireAction}">
                            <ace:ajax event="activate" execute="@this" render="message" />
                        </ace:menuItem>
                        <ace:menuItem id="Configuracion"
                                      value="Configuración"
                                      actionListener="#{menuBean.fireAction}">
                            <ace:ajax event="activate" execute="@this" render="message" />
                        </ace:menuItem>
                    </ace:submenu>
                </ace:menu>       
            
                <ace:panel  header="Menu Selections Log">
                    <h:dataTable id="message" value="#{menuBean.list}" var="message">
                        <h:column>
                            <h:outputText id="msg" value="#{message}"/>
                        </h:column>
                    </h:dataTable>
                </ace:panel>
            </h:panelGrid>
        </h:form>

        <h:form id="form">
            <ace:tabSet id="sampleTabSet" clientSide="false">
                <ace:tabPane id="ventaPanel" label="Venta">
                    <ace:comboBox id="selProducto" value="#{comboBoxBean.province}" valueChangeListener="#{comboBoxBean.provinceChange}" label="Producto: " labelPosition="left" style="height:19px;">
                        <f:selectItem itemValue="arroz" itemLabel="Arroz" />
                        <f:selectItem itemValue="papa" itemLabel="Papa" />
                        <ace:ajax />
                    </ace:comboBox>
                    
                    <ace:dataTable id="ventasTabla"
                          value="#{dataTableListener.carsData}"
                          var="car"
                          rows="10"
                          stateMap="#{dataTableListener.stateMap}"
                          selectionMode="single"
                          rowSelectListener="#{dataTableListener.selectListener}"
                          rowUnselectListener="#{dataTableListener.deselectListener}">

                        <ace:ajax event="select" execute="@this listenerForm:eventLog" render="@this listenerForm:eventLog" />
                
                        <ace:column id="empresa" headerText="Empresa" sortBy="#{car.name}">
                            <h:outputText id="nombreCelda" value="#{car.name}"/>
                        </ace:column>
                        <ace:column id="direccion" headerText="Dirección" sortBy="#{car.chassis}" >
                            <h:outputText id="cantidadCelda" value="#{car.chassis}"/>
                        </ace:column>
                        <ace:column id="contacto" headerText="Contacto" sortBy="#{car.weight}">
                            <h:outputText id="unidadCelda" value="#{car.weight}"/>
                        </ace:column>
                        <ace:column id="cantidadMax" headerText="Cantidad Máxima" sortBy="#{car.weight}">
                            <h:outputText id="cantMaxCelda" value="#{car.weight}"/>
                        </ace:column>
                        <ace:column id="cantidad" headerText="Cantidad" sortBy="#{car.weight}">
                            <h:outputText id="cantidadCelda" value="#{car.weight}"/>
                        </ace:column>
                        <ace:column id="valorUnt" headerText="Valor Unitario" sortBy="#{car.acceleration}" >
                            <h:outputText id="valorUntCelda" value="#{car.acceleration}"/>
                                <f:convertNumber type="currency" currencySymbol="$" groupingUsed="true" minFractionDigits="2" maxFractionDigits="2"/>
                        </ace:column>
                        <ace:column id="valorTot" headerText="Valor Total" sortBy="#{car.acceleration}" >
                            <h:outputText id="valorTotCelda" value="#{car.acceleration}"/>
                                <f:convertNumber type="currency" currencySymbol="$" groupingUsed="true" minFractionDigits="2" maxFractionDigits="2"/>
                        </ace:column>
                    </ace:dataTable>

                    <ace:pushButton id="ventaBoton" value="Vender" action="#{pushButton.executeAction}">
                        <ace:ajax execute="@all" render="@all" onSuccess="updateAddressBarURL('aceMenu','linkButton');" />
                        <f:param name="grp" value="aceMenu"/>
                        <f:param name="exp" value="linkButton" />
                    </ace:pushButton>
                </ace:tabPane>
                
                <ace:tabPane id="transaccionPanel" label="Transacciones">
                    <ace:comboBox id="selBanco" value="#{comboBoxBean.province}" valueChangeListener="#{comboBoxBean.provinceChange}" label="Cuenta Bancaria: " labelPosition="left" style="height:19px;">
                        <f:selectItem itemValue="agrario" itemLabel="Banco Agrario" />
                        <f:selectItem itemValue="popular" itemLabel="Banco Popular" />
                        <ace:ajax />
                    </ace:comboBox>
                
                    <ace:comboBox id="selBanco" value="#{comboBoxBean.province}" valueChangeListener="#{comboBoxBean.provinceChange}" label="Ubicación Entrega: " labelPosition="left" style="height:19px;">
                        <f:selectItem itemValue="tunja" itemLabel="Tunja" />
                        <f:selectItem itemValue="bogota" itemLabel="Bogotá" />
                        <ace:ajax />
                    </ace:comboBox>

                    <ace:panel>
                        <h:panelGrid style="text-align: center;" width="100%">
                            <h:panelGroup>
                                <h:outputLabel for="selected" value="Fecha: "/>
                                <h:outputText id="selected" value="#{dateEntry.selectedDate}" style="font-weight: bold;">
                                    <f:convertDateTime pattern="MMMM dd, yyyy"/>
                                </h:outputText>
                            </h:panelGroup>
                        </h:panelGrid>
                    </ace:panel>
            
                    <h:panelGrid style="margin-left: auto; margin-right: auto; text-align: center;" width="100">
                        <ace:dateTimeEntry id="cal" value="#{dateEntry.selectedDate}" timeZone="Canada/Mountain" pattern="MMM/dd/yyyy" />
                        <h:commandButton id="submitDate" value="Submit Date">                       
                            <f:ajax execute="@this cal" render="@all"/>
                        </h:commandButton>
                    </h:panelGrid>

                    <h:panelGrid id="inputGrid" columns="2" width="100%" styleClass="textEntryInputTable">
                        <ace:textAreaEntry id="comentario" label="Comentario: " labelPosition="left" >
                            <ace:ajax render="@this comment1Msg" event="blur"/>
                        </ace:textAreaEntry>
                    </h:panelGrid>

                    <ace:pushButton id="enviarBoton" value="Enviar" action="#{pushButton.executeAction}">
                        <ace:ajax execute="@all" render="@all" onSuccess="updateAddressBarURL('aceMenu','linkButton');" />
                        <f:param name="grp" value="aceMenu"/>
                        <f:param name="exp" value="linkButton" />
                    </ace:pushButton>
                </ace:tabPane>
                
                <ace:tabPane id="historial" label="Historial">
                    <ace:panel id="panel" header="Transacciones Realizadas" rendered="#{panelHeader.headerEnable}">                       
                        <ace:dataTable id="tablaHistorial" value="#{dataTableBean.carsData}" var="car">
                            <ace:column id="empresa" headerText="Empresa" sortBy="#{car.name}">
                                <h:outputText id="empresaCelda" value="#{car.name}"/>
                            </ace:column>
                            <ace:column id="producto" headerText="Producto" sortBy="#{car.name}">
                                <h:outputText id="productoCelda" value="#{car.name}"/>
                            </ace:column>
                            <ace:column id="cantidad" headerText="Cantidad" sortBy="#{car.chassis}" >
                                <h:outputText id="cantidadCelda" value="#{car.chassis}"/>
                            </ace:column>
                            <ace:column id="fecha" headerText="Fecha" sortBy="#{car.weight}">
                                <h:outputText id="fechaCelda" value="#{car.weight}"/>
                            </ace:column>
                            <ace:column id="valorTotal" headerText="Valor Total" sortBy="#{car.acceleration}" >
                                <h:outputText id="valorCelda" value="#{car.acceleration}"/>
                                    <f:convertNumber type="currency" currencySymbol="$" groupingUsed="true" minFractionDigits="2" maxFractionDigits="2"/>
                            </ace:column>
                        </ace:dataTable>   
                    </ace:panel>
                </ace:tabPane>
            </ace:tabSet>
        </h:form>
    </ui:define>
</ui:composition>